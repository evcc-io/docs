---
sidebar_position: 9
---

# Windows

Hier findest du Anweisungen f√ºr die manuelle Installation von evcc auf Windows.

:::important
Diese manuelle Installation erfordert fortgeschrittene PC Kenntnisse, vor allem auch im Umgang mit einem Terminal/Eingabeaufforderung.

Es ist auch m√∂glich evcc auf Windows zu installieren.
Allerdings wird evcc typischerweise in einer Linux-Umgebung (z.B. Raspberry Pi) verwendet.
:::

## Installation

- Lade die entsprechende Datei f√ºr dein System herunter
  - 64-Bit Intel CPU: [evcc_X.XX_windows_amd64.zip](https://github.com/evcc-io/evcc/releases/latest)
- Entpacke die heruntergeladene Datei (z.B. per Doppelklick auf die Datei)
- Es gibt nun einen neuen Ordner mit dem Programm `evcc`.
- √ñffne ein Terminal/Eingabeaufforderung und gehe in den Ordner mit dem Programm `evcc`
- Pr√ºfe die Installation mit folgendem Befehl:

  ```sh
  evcc -v
  ```

- Du solltest nun die aktuelle Version von evcc sehen (z.B. `evcc version 0.xxx.y`).

## Konfiguration

evcc kann auf zwei Arten konfiguriert werden:

### Weboberfl√§che (empfohlen)

Starte evcc ohne weitere Parameter:

```sh
./evcc
```

√ñffne dann deinen Browser unter [http://localhost:7070](http://localhost:7070):

- Du wirst aufgefordert ein Administrator-Passwort zu vergeben
- Anschlie√üend kannst du deine Ger√§te direkt √ºber die Weboberfl√§che einrichten
- Die Einstellungen werden automatisch in der Datenbank gespeichert

### Konfigurationsdatei (traditionell)

Alternativ kannst du eine `evcc.yaml` Konfigurationsdatei verwenden.
Details zur Erstellung der Konfigurationsdatei findest du unter [Einrichtung](./configuration).

Starte evcc mit:

```sh
./evcc -c evcc.yaml
```

## Aktualisierung/Downgrade

F√ºhre die obigen Schritte aus und ersetze die evcc Programmdatei mit der neuen bzw. vorherigen Version.
Die Konfiguration muss nicht erneut durchgef√ºhrt werden.

## evcc als Hintergrunddienst

:::note
Diese Dokumentation geht davon aus, dass evcc in `c:\evcc` liegt.

Diese Anweisungen wurden mit Windows 10 erstellt.
:::

- Beginnt in der Suchleiste von Windows 10 mit der Eingabe des Wortes `Aufgabenplanung`.
  Bereits nach wenigen Buchstaben sollte diese als Treffer mit der h√∂chsten √úbereinstimmung angezeigt werden und kann auf der rechten Seite mit `Als Administrator ausf√ºhren` gestartet werden:

![Windows 10 Aufgabenplanung](win10-srv/win10-srv-1.png)

- Nach dem Start der Aufgabenplanung obliegt es dir, ob du den neuen Service in einem eigenen Ordner oder der allgemeinen Aufgabenplanungsbibliothek anlegst.
  F√ºr dieses Beispiel wird ein eigener Ordner `evcc` angelegt.
  Hierzu muss zun√§chst der Ordner "Aufgabenplanungsbibliothek" angew√§hlt werden, um dann mit der rechten Maustaste das PopUp-Men√º zu starten.
  Hier w√§hlst du `Neuer Ordner` und benennst diesen evcc:

![Aufgabenplanungsbibliothek](win10-srv/win10-srv-2.png)

- Nun w√§hlst du den neuen Ordner `evcc` oder die allgemeine Aufgabenplanungsbibliothek aus und √∂ffnest erneut mit der rechten Maustaste das PopUp Men√º, dort w√§hlst du nun `Aufgabe erstellen`:

![Neue Aufgabe erstellen](win10-srv/win10-srv-3.png)

- Als Name `evcc` und zur besseren Zuordnung sollte eine kurze Beschreibung mit angegeben werden.
  Da du den Service als Systemdienst laufen l√§sst, √∂ffnest du die Userverwaltung √ºber 'Benutzer oder Gruppe √§ndern' und tippst dort `system`.
  Nach einem Klick auf `User √ºberpr√ºfen`, sollte der Account angezeigt und der Dialog kann mit OK geschlossen werden:

![Allgemein](win10-srv/win10-srv-4.png) ![Systemnutzer setzen](win10-srv/win10-srv-5.png)

- Einstellungen des Reiters: `Trigger`
- Aufgabe starten √§ndern auf "Beim Start" und pr√ºfen, dass die Aufgabe aktiviert ist:

![Trigger](win10-srv/win10-srv-6.png)

- Einstellungen des Reiters: `Aktionen`
- "Programm starten" belassen und √ºber Durchsuchen die Datei "evcc.exe" ausw√§hlen.
  Es empfiehlt sich den Pfad zus√§tzlich in `Starten in` anzugeben, somit wird die dort abgelegte Konfigurationsdatei direkt gefunden:

![Aktionen](win10-srv/win10-srv-7.png)

- Einstellungen des Reiters: `Bedingungen`
- Diese Einstellungen k√∂nnen im Default belassen werden.
  Da evcc l√§nger laufen sollte, als es der Akkubetrieb gew√§hrleisten w√ºrde.
  :::info
  Da z.B. der SMA Home Manager √ºber WLAN Probleme bereiten kann, sollte optional der Haken bei `Netzwerk` gesetzt und eine entsprechende Verbindung ausgew√§hlt werden.
  :::

![Bedingungen](win10-srv/win10-srv-8.png)

- Einstellungen des Reiters: `Einstellungen`
- Den Haken bei `Aufgabe so schnell wie m√∂glich ...` setzen.
- Unbedingt den Haken bei `Aufgabe beenden, falls Ausf√ºhrung l√§nger als:` entfernen, sonst wunderst du dich, das evcc auf einmal nicht mehr l√§uft.

![Einstellungen](win10-srv/win10-srv-9.png)

- Du bist fertig! üéâ

Die Aufgabe kann nun manuell gestartet oder √ºber einen Reboot getestet werden.
Zur Kontrolle mit dem Browser auf `http://[IP-Adresse]:7070` zugreifen.
