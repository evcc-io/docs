---
title: "Highlights: Lastmanagement, ¬ß 14a EnWG"
slug: "/2024/08/17/highlights-14a-enwg-ocpp-loadmanagement-elli"
authors: [naltatis]
tags: [release, highlights]
hide_table_of_contents: false
---

Heute ist [Version 0.130](https://github.com/evcc-io/evcc/releases) von evcc erschienen.
Da der letzte "Release" Blogartikel schon etwas her ist, ist hier ein √úberblick √ºber die Highlights der letzten Releases.

![evcc 0.130](v0.130-banner.webp)

{/* truncate */}

## Lastmanagement & ¬ß 14a EnWG

Vor ein paar Releases haben wir Lastmanagement als experimentelles Feature eingef√ºhrt.
Damit ist es m√∂glich, eine Leistungs- und/oder Stromgrenze f√ºr das gesamte Haus festzulegen.
evcc regelt die Wallboxen so, dass diese Grenzen nicht √ºberschritten werden.
F√ºr komplexere Installationen gibt es auch die M√∂glichkeit, Unterstromkreise mit eigenen Grenzen und Z√§hlern zu konfigurieren.
Mehr dazu findest du in der [Dokumentation](/docs/features/loadmanagement).


### Steuerbare Verbraucher

In Deutschland ist ¬ß 14a des Energiewirtschaftsgesetzes (EnWG) derzeit ein prominentes Thema.
Hier geht es darum, dass der Netzbetreiber bei hoher Netzauslastung gro√üe Verbraucher, wie zum Beispiel Wallboxen, herunterregeln kann.
Entscheidet sich der Kunde f√ºr diese Regelung profitiert er im Gegenzug von reduzierten Netzentgelten.

Spannend ist hier die technische Umsetzung.
Der Netzbetreiber greift nicht direkt auf die Wallbox zu, sondern kommuniziert das Signal zum Herunterregeln √ºber das Smart Meter Gateway (SMGW).
Das Energiemanagementsystem im Haus muss dann die relevanten Verbraucher herunterregeln.

evcc ist in der Lage diese Anforderung (Dimming) zu erf√ºllen, und zwar, f√ºr alle bereits heute unterst√ºtzten Wallboxen und das ohne sie, bspw. √ºber einen potentialfreien Kontakt, einfach abschalten zu m√ºssen.
Die Ladepunkte k√∂nnen in dem Zeitraum weiter mit ihrer Mindestleistung (z. B. 4,2 kW) betrieben werden.
Damit kann jede von evcc unterst√ºtzte Wallbox in diesem Szenario eingesetzt werden und ben√∂tigt selbst keine spezielle Unterst√ºtzung f√ºr eine Kommunikation mit SMGW oder Steuerbox.

### Funktionsweise

Kommt es zu einer √úberlastung im Netz, sendet der Netzbetreiber ein Signal an das SMGW.
Das SMGW selbst bietet allerdings keine sinnvolle M√∂glichkeit mit dem Heimnetzwerk zu kommunizieren.
Dies findet √ºber eine sogenannte Steuerbox statt, die hinter dem SMGW angeschlossen ist.
Diese zertifizierte Box leitet das Signal √ºber EEBus an die jeweiligen Ger√§te weiter.
evcc hat die EEBus Schnittstelle zur Steuerbox implementiert.
Kommt ein Reduzierungssignal rein, wird evcc aktiv und regelt die Wallboxen entsprechend herunter.

Ein alternativer Weg zu EEBus ist die Kommunikation √ºber einen einfachen Schaltkontakt der Steuerbox.
Dieser kann dann bspw. √ºber einen GPIO-Pin an evcc angeschlossen werden.
Empf√§ngt die Steuerbox ein Reduzierungssignal, wird der Kontakt geschlossen, evcc erkennt dies und regelt die Wallboxen herunter.

Diese, deutlich simplere Kontaktl√∂sung, l√§sst sich auch mit bereits vorhandenen (Funk)Rundsteuerempf√§ngern (FRSE) einsetzen.
Im Rahmen des ¬ß 14a EnWG sind diese nicht vorgesehen, werden aber als √úbergangsl√∂sung gedultet.

In der Praxis fehlt es f√ºr die Nutzung dieses Features noch an im Feld verbauten Steuerboxen.
Diese werden in den kommenden Monaten ausgerollt.
Falls du schon ein solches Ger√§t hast, dann melde dich gerne bei uns.

## Hausbatterie mit Netzstrom laden

Im letzten Release-Blogartikel haben wir mit "Entladesperre beim Schnellladen" die erste Funktion vorgestellt, bei der evcc den Hausspeicher aktiv steuert.
In Version 0.130 haben wir die Batteriesteuerung weiter ausgebaut.
Jetzt gibt es auch die M√∂glichkeit, den Hausspeicher gezielt mit Netzstrom zu laden.

Diese experimentelle Funktion ist verf√ºgbar, wenn dein Wechselrichter aktive Batteriesteuerung unterst√ºtzt  ([siehe Dokumentation](/docs/devices/meters)) und du einen dynamischen Stromtarif hast.
In diesem Fall kannst du eine Preisgrenze festlegen.
Wird diese unterschritten, l√§dt evcc den Hausspeicher mit Netzstrom.

![Hausbatterie mit g√ºnstigem Netzstrom laden](battery-grid-charge.webp)

Diese Funktion kann vor allem in den Wintermonaten praktisch sein.
Ist √ºber Tag wenig Sonnenstrom zu erwarten, kann der Speicher bspw. nachts mit g√ºnstigem Netzstrom geladen werden.
Somit kannst du Zeitr√§ume mit hohen Strompreisen √ºberbr√ºcken.

Die aktuelle Umsetzung √ºber ein fixes Preislimit ist bewusst simpel und nur der erste Schritt in das Thema.
M√∂chtest du nicht regelm√§√üig √ºber die Web UI das Limit pr√ºfen und anpassen kannst du dir, darauf aufbauend, √ºber die entsprechende API heute schon smartere L√∂sungen (bspw. zeit- oder prognosebasiert) bauen.

## Elli Charger: Status Update

Eine relativ verbreitete Wallbox ist der Elli Charger aus dem VW-Konzern.
Dieser wird auch unter den Namen "VW ID. Charger", "Skoda iV Charger", "Cupra Charger" oder "Audi Wallbox" verkauft und kommt, je nach Marke, in unterschiedlichen Varianten die mit "Connect", "plus", "Pro", "Connect+" oder "pro" enden ([siehe √úbersicht](https://github.com/evcc-io/evcc/pull/7757#issuecomment-1529477695)).

Die Unterst√ºtzung dieser Wallbox war √ºber die letzten Jahre leider kein Quell der Freude.
[DerAndereAndi](https://github.com/DerAndereAndi) hat hier jede Menge Leidenschaft und Zeit investiert.
Vielen Dank daf√ºr üôå!
Die Qualit√§t der Firmware ist relativ schlecht und es gibt viele Bugs.
Das ist bei Software und neuen Produkten erst einmal nicht v√∂llig ungew√∂hnlich.
Problematisch ist allerdings, dass dieses Produkt schon mehrere Jahre am Markt ist und der Hersteller keinerlei ernsthafte Anstrengungen zeigt diese Bugs mit Updates zu beheben.

In [diesem Post sind die konkreten technischen Probleme](https://github.com/evcc-io/evcc/discussions/15367), die beim Steuern und Auslesen der Wallbox auftreten, zusammengefasst.
Eine permanente Fehlerquelle waren und sind die unzuverl√§ssigen Z√§hlerdaten.
Im aktuellen Release haben wir daher die Unterst√ºtzung f√ºr den eingebauten Z√§hler entfernt und empfehlen allen Besitzern dieser Wallbox einen vorgeschalteten, separaten Z√§hler zu verwenden.

![sad elli charger](sad-elli.webp)

Wenn du planst eine Wallbox zu kaufen, die bspw. mit evcc steuerbar sein soll, k√∂nnen wir von diesen Ger√§ten leider nur abraten.
Elli hat inzwischen ein √ºberarbeitetes Produkt, den [ElliCharger 2](https://www.elli.eco/de/privatkunden/produkte/wallbox) angek√ºndigt.
Nach Allem, was wir bislang wissen, handelt es sich dabei um ein deutlich ausgereifteres Ger√§t.
Das √§ndert allerdings nichts daran, dass die Wallboxen der ersten Generation, die auch heute noch aktiv verkauft werden, in puncto Schnittstellenqualit√§t absolut indiskutabel sind.

Solltest du so eine Wallbox besitzen und von den oben beschriebenen Problemen betroffen sein, empfehlen wir dir dich an den Elli Kundensupport zu wenden.
Wir haben zwar wenig Hoffnung, das es doch noch Softwareupdates geben wird.
Allerdings finden wir das Vorgehen, eine technisch gute Hardware durch eine Neue zu ersetzen, nur weil die Software nicht mehr gepflegt wird, nicht wirklich nachhaltig.

Wir w√ºrden uns auch √ºber einen direkten technischen Kontakt zu Elli freuen.
Bislang sind unsere Versuche allerdings alle ins Leere gelaufen.

## Status am Ladepunkt

Eine visuelle √Ñnderung, die k√ºrzlich Einzug in evcc gehalten hat, ist die √ºberarbeitung der Statusanzeige.
Bislang wurde hier immer ein Text wie "√úberschuss verf√ºgbar, starte in 1:22 min..." oder "Ladeplan aktiv. Starte um 23:12 Uhr." angezeigt.

![Zwei Ladepunkt mit der neuen Statusanzeige](status-icons.webp)

Mit der wachsenden Anzahl von Funktionen ist diese Anzeige etwas unflexibel geworden und parallele Zust√§nde, wie PV-Timer, Ladeplan und gesetzte Preisgrenze, konnten nicht gleichzeitig angezeigt werden.
Daher haben wir die Anzeige √ºberarbeitet.
Der Zustand des Ladepunkts wird weiter als kurzer Text ("Verbunden", "Ladevorgang aktiv", ...) angezeigt.
Weitere Informationen wie PV-Timer, Ladeplan, Preisgrenze, Klimatisierung oder das Fahrzeuglimit werden jetzt, sofern relevant, als Icon mit erkl√§rendem Tooltip angezeigt.
Dadurch wir die Anzeige √ºbersichtlicher und flexibler.

Hier eine √úbersicht der neuen Icons und Tooltips:

![√úbersicht der neuen Statusicons](icons-tooltips.webp)



## OCPP: Stabilit√§t, Funktionen & Sponsoring

Die M√∂glichkeit evcc als OCPP-Server zu betreiben gibt es schon relativ lange.
In den letzten Monaten haben wir das Thema wieder in den Fokus genommen und [viel Arbeit](https://github.com/evcc-io/evcc/pulls?q=is%3Apr+is%3Amerged+sort%3Aupdated-desc+ocpp) in die Stabilit√§t und den Funktionsumfang unserer Implementierung gesteckt.
So waren bisher f√ºr einige Wallboxen spezielle Konfigurationsparameter in der Einrichtung erforderlich.
Diese sind nun, bis auf ganz wenige Ausnahmen, alle obsolet.
Funktionen wie Z√§hlerdaten, Abfrageintervalle, Ping- und Heatbeatsignale werden jetzt automatisch konfiguriert.
Da es auch weiterhin Wallboxen gibt, die sich nicht zu 100% an den Standard halten, gibt es einige ger√§tespezifische Sonderlocken in der Implementierung.
Diese sind f√ºr den Nutzer nun transparent.

### RFID und Autorisierung

Die gr√∂√üte √Ñnderung bzw. Neuerung aus Nutzersicht ist standardkonforme Unterst√ºtzung von Autorisierung.
Damit ist jetzt auch die [Fahrzeugerkennung via RFID](/docs/features/vehicle#erkennung-via-rfid) m√∂glich.
Ein sofortiges Laden ohne Autorisierung geht nat√ºrlich weiterhin.
Daf√ºr muss das jeweilige Feature in der Wallbox ("Autostart", "Freies Laden", "Free Vending", oder √§hnlich) aktiviert sein.
Sollte deine Wallbox diese Einstellung nicht haben (was eher selten ist), kannst du √ºber den `remotestart: true` Parameter auch das bisherige evcc Verhalten wiederherstellen.
Dann startet evcc die Ladung auch ohne Freigabe vom Ger√§t.

### Viele Wallboxen getestet

Wir haben die Funktionen an vielen unterschiedlichen Ger√§ten erfolgreich getestet und diese [in der Dokumentation](/docs/devices/chargers) hinzugef√ºgt.
Die Liste ist aber sicher nicht vollst√§ndig.
Sollte deine OCPP-Wallbox nicht dabei sein, aber sauber mit evcc funktionieren, dann freuen wir uns [√ºber eine R√ºckmeldung](https://github.com/evcc-io/evcc/issues/new/choose) damit wir die Dokumentation f√ºr andere Nutzer erg√§nzen k√∂nnen.
Sollte deine Wallbox wider Erwarten nicht funktionieren interessiert uns das nat√ºrlich auch üòâ.

### Sponsoring erforderlich

Mit der Version 0.130 wird die OCPP-Unterst√ºtzung zu einem Feature f√ºr das ein üíö Sponsoring erforderlich ist.
Uns ist bewusst, dass diese √Ñnderung f√ºr Nutzer, die evcc bisher kostenlos genutzt haben vielleicht unerfreulich ist.
Wir haben uns dennoch dazu entschieden, diese √Ñnderung vorzunehmen.
Daf√ºr gibt es vor allem zwei Gr√ºnde:

1. Bei vielen neuen, kommerziellen Wallboxen ist OCPP zum Kommunikationsprotokoll der Wahl geworden und oft auch die einzige Steuerschnittstelle. Dementsprechend halten wir es, den Nutzern anderer Wallboxen gegen√ºber, f√ºr fair, dass auch die OCPP-Unterst√ºtzung ein Sponsoring erfordert und damit das gesamte Projekt unterst√ºtzt wird.

2. Wie oben beschrieben, haben wir sehr viel Energie und Zeit in die Verbesserung der Implementierung gesteckt und w√ºrden das auch gerne weiterhin tun um die Stabilit√§t und Funktionalit√§t zu gew√§hrleisten.  Hier hilft uns eure finanzielle Unterst√ºtzung die n√∂tigen Ressourcen daf√ºr aufzubringen.

Wir hoffen, ihr habt Verst√§ndnis f√ºr diese √Ñnderung.

## Weitere Verbesserungen

- **Log UI:** Logs k√∂nnen jetzt direkt in der Web UI eingesehen, gefiltert und exportiert werden.
- **Sprachen:** Inzwischen unterst√ºtzt evcc 27 Sprachen. Ein gro√ües Dankesch√∂n an alle √úbersetzer.
- **Config UI:** Hier sind in den letzten Releases viele Funktionen, die f√ºr die Abl√∂sung der `evcc.yaml` notwendig sind, hinzugekommen. Mehr dazu in einem sp√§teren Blogartikel.
- **Bugfixes:** Wie immer haben wir viele Fehler behoben und die Stabilit√§t verbessert.
- **Neue Ger√§te:** Wir bauen die Liste der unterst√ºtzten Wallboxen, Wechselrichter, Z√§hler und Tarife stetig aus.

F√ºr mehr Details kannst du nat√ºrlich auch immer in die [Changelogs der Releases](https://github.com/evcc-io/evcc/releases) und die darin verlinkten Pull Requests und Diskussionen schauen.

## Neue Sponsoren

An dieser Stelle m√∂chten wir uns auch noch mal bei euch allen, die das Projekt durch Sponsoring unterst√ºtzen, bedanken.
An einem Open-Source Projekt arbeiten zu k√∂nnen, das zum allergr√∂√üten Teil direkt von der Community und den Nutzern finanziert wird, ist eine ziemlich coole Nummer.

Auch in der Unternehmenswelt stellen wir fest, dass evcc inzwischen ernst genommen wird.
Das dr√ºckt sich dadurch aus, dass Hersteller teilweise direkt Kontakt zu uns suchen um eine gute Integration ihrer Ger√§te zu gew√§hrleisten.

Als finanzielle Firmensponsoren konnten wir [CUBOS](https://www.cubos.com), ein Unternehmen aus dem Bereich Photovoltaik und gewerbliche Ladeinfrastruktur, [lekker Energie](https://www.lekker.de), ein Energieversorger aus Berlin und die Firma [Victron Energy](https://www.victronenergy.com), ein Hersteller von modularen Wechselrichtern und Ladestationen, gewinnen.

**Viele Gr√º√üe**<br/>
Das evcc Team<br/>
Michael, Andi & Uli
