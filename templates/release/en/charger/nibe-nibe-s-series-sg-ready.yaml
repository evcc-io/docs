template: nibe-s-series
product:
  identifier: nibe-nibe-s-series-sg-ready
  brand: NIBE
  description: Nibe S-Series (SG Ready)
  group: Heating devices
description: |
  Modbus connection to the NIBE S heat pump.
  Firmware version 4.7.5 or newer is required.
  In the indoor unit, Modbus must be enabled in menu 7.5.9
  To use the power control function, external power limitation must be selected under Menu 7.4, item AUX from modbus.
  The value “1” (uint8) must be written once to holding register 3032.

render:
  - default: |
      type: template
      template: nibe-s-series

      # Modbus TCP
      modbus: tcpip
      id: 1
      host:  # Hostname
      port: 502 # Port
      tempsource: water_mid # Temperature sensor, [water_top, water_mid]
      powercontrol: true # power limitation
params:
  - name: modbus
    example:
    default:
    choice: ['tcpip']
    unit:
    description: Modbus Type
    help:
    advanced: false
    optional: false
  - name: tempsource
    example:
    default: water_mid
    choice: ['water_top', 'water_mid']
    unit:
    description: Temperature sensor
    help:
    advanced: false
    optional: false
  - name: powercontrol
    example:
    default: true
    choice: []
    unit:
    description: power limitation
    help:
    advanced: false
    optional: false
modbus:
  host:
  id: 1
  modbus: tcpip
  port: 502
  tcpip: true