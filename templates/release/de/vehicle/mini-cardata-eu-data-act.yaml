template: cardata
product:
  identifier: mini-cardata-eu-data-act
  brand: Mini
  description: CarData (EU Data Act)
description: |
  Benötigt CarData Einrichtung im BMW/Mini portal. Die folgenden Datenpunkte müssen für Streaming konfiguriert werden:

  ```
  vehicle.body.chargingPort.status
  vehicle.cabin.hvac.preconditioning.status.comfortState
  vehicle.drivetrain.batteryManagement.header
  vehicle.drivetrain.electricEngine.charging.hvStatus
  vehicle.drivetrain.electricEngine.charging.status
  vehicle.drivetrain.electricEngine.charging.timeRemaining
  vehicle.drivetrain.electricEngine.kombiRemainingElectricRange
  vehicle.powertrain.electric.battery.stateOfCharge.target
  vehicle.vehicle.preConditioning.activity
  vehicle.vehicle.travelledDistance
  ```

  Aktualisierung der Daten erfolgt einmalig bei Neustart und wenn Streamingdaten eingehen. Dies ist ausschließlich der Fall,
  wenn das Fahrzeug aktiv Daten erzeugt.

render:
  - default: |
      type: template
      template: cardata
      title: # Titel, Wird in der Benutzeroberfläche angezeigt (optional)
      capacity: 50 # Akkukapazität (kWh), optional
      vin: WBMW... # Fahrzeugidentifikationsnummer, Wenn mehrere Fahrzeuge eines Herstellers vorhanden sind
      clientid: # Client ID
    advanced: |
      type: template
      template: cardata
      title: # Titel, Wird in der Benutzeroberfläche angezeigt (optional)
      capacity: 50 # Akkukapazität (kWh), optional
      vin: WBMW... # Fahrzeugidentifikationsnummer, Wenn mehrere Fahrzeuge eines Herstellers vorhanden sind
      clientid: # Client ID
      icon: car # Icon, Wird in der Benutzeroberfläche angezeigt [car, bike, bus, moped, motorcycle, rocket, scooter, taxi, tractor, rickshaw, shuttle, van, airpurifier, battery, bulb, climate, coffeemaker, compute, cooking, cooler, desktop, device, dishwasher, dryer, floorlamp, generic, heater, heatexchange, heatpump, kettle, laundry, laundry2, machine, meter, microwave, pump, smartconsumer, tool, waterheater] (optional)
      phases: 3 # Maximale Phasenanzahl, Die maximale Anzahl der Phasen welche genutzt werden können (optional)
      mode: # Standardlademodus, Wird beim Anschließen eines Fahrzeugs verwendet. Möglich sind Off, Now, MinPV und PV, oder leer wenn keiner definiert werden soll (optional)
      minCurrent: 6 # Minimale Stromstärke (A), Definiert die minimale Stromstärke pro angeschlossener Phase die genutzt werden kann (optional)
      maxCurrent: 16 # Maximale Stromstärke (A), Definiert die maximale Stromstärke pro angeschlossener Phase die genutzt werden kann (optional)
      maxPower: # Maximale Ladeleistung des Fahrzeugs (W), Definiert die maximale Ladeleistung des Fahrzeugs. Hilft, die Ladeplanung zu verbessern, wenn das Fahrzeug üblicherweise weniger Strom nutzt als angeboten oder höhere Ströme bei einphasigem Laden erlaubt als bei dreiphasigem. Der bereitgestellte Strom des Ladepunktes wird nicht beeinflusst. (optional)
      identifiers: # Identifikation, Kann meist erst später eingetragen werden, siehe: https://docs.evcc.io/docs/features/vehicle (optional)
      priority: # Priorität, Priorität des Ladepunktes oder Fahrzeugs in Relation zu anderen Ladepunkten oder Fahrzeugen für die Zuweisung von PV-Energie (optional)
      coarsecurrent: # 1A Ladestromvorgabe, Fahrzeug unterstützt nur 1A Schritte der Ladestromvorgabe (optional)
      streaming: # Unterstützt Streaming, Aktivieren falls das Fahrzeug Streaming Updates während des Ladevorgangs schickt. (optional)
      welcomecharge: # Laden bei Verbindung, Wallbox gibt kurzzeitige Ladefreigabe bei Fahrzeugverbindung. Das ermöglicht es Fahrzeugen, die eine Stromversorgung beim Anschließen benötigen, einen Fehlerzustand zu vermeiden. (optional)
params:
  - name: title
    example:
    default:
    choice: []
    unit:
    description: Titel
    help: Wird in der Benutzeroberfläche angezeigt
    advanced: false
    optional: true
  - name: capacity
    example: 50
    default:
    choice: []
    unit: kWh
    description: Akkukapazität
    help:
    advanced: false
    optional: true
  - name: vin
    example: WBMW...
    default:
    choice: []
    unit:
    description: Fahrzeugidentifikationsnummer
    help: Wenn mehrere Fahrzeuge eines Herstellers vorhanden sind
    advanced: false
    optional: false
  - name: clientid
    example:
    default:
    choice: []
    unit:
    description: Client ID
    help:
    advanced: false
    optional: false
  - name: icon
    example:
    default: car
    choice: ['car', 'bike', 'bus', 'moped', 'motorcycle', 'rocket', 'scooter', 'taxi', 'tractor', 'rickshaw', 'shuttle', 'van', 'airpurifier', 'battery', 'bulb', 'climate', 'coffeemaker', 'compute', 'cooking', 'cooler', 'desktop', 'device', 'dishwasher', 'dryer', 'floorlamp', 'generic', 'heater', 'heatexchange', 'heatpump', 'kettle', 'laundry', 'laundry2', 'machine', 'meter', 'microwave', 'pump', 'smartconsumer', 'tool', 'waterheater']
    unit:
    description: Icon
    help: Wird in der Benutzeroberfläche angezeigt
    advanced: true
    optional: true
  - name: phases
    example: 3
    default:
    choice: []
    unit:
    description: Maximale Phasenanzahl
    help: Die maximale Anzahl der Phasen welche genutzt werden können
    advanced: true
    optional: true
  - name: mode
    example:
    default:
    choice: []
    unit:
    description: Standardlademodus
    help: Wird beim Anschließen eines Fahrzeugs verwendet. Möglich sind Off, Now, MinPV und PV, oder leer wenn keiner definiert werden soll
    advanced: true
    optional: true
  - name: minCurrent
    example: 6
    default:
    choice: []
    unit: A
    description: Minimale Stromstärke
    help: Definiert die minimale Stromstärke pro angeschlossener Phase die genutzt werden kann
    advanced: true
    optional: true
  - name: maxCurrent
    example: 16
    default:
    choice: []
    unit: A
    description: Maximale Stromstärke
    help: Definiert die maximale Stromstärke pro angeschlossener Phase die genutzt werden kann
    advanced: true
    optional: true
  - name: maxPower
    example:
    default:
    choice: []
    unit: W
    description: Maximale Ladeleistung des Fahrzeugs
    help: Definiert die maximale Ladeleistung des Fahrzeugs. Hilft, die Ladeplanung zu verbessern, wenn das Fahrzeug üblicherweise weniger Strom nutzt als angeboten oder höhere Ströme bei einphasigem Laden erlaubt als bei dreiphasigem. Der bereitgestellte Strom des Ladepunktes wird nicht beeinflusst.
    advanced: true
    optional: true
  - name: identifiers
    example:
    default:
    choice: []
    unit:
    description: Identifikation
    help: 'Kann meist erst später eingetragen werden, siehe: https://docs.evcc.io/docs/features/vehicle'
    advanced: true
    optional: true
  - name: priority
    example:
    default:
    choice: []
    unit:
    description: Priorität
    help: Priorität des Ladepunktes oder Fahrzeugs in Relation zu anderen Ladepunkten oder Fahrzeugen für die Zuweisung von PV-Energie
    advanced: true
    optional: true
  - name: coarsecurrent
    example:
    default:
    choice: []
    unit:
    description: 1A Ladestromvorgabe
    help: Fahrzeug unterstützt nur 1A Schritte der Ladestromvorgabe
    advanced: true
    optional: true
  - name: streaming
    example:
    default:
    choice: []
    unit:
    description: Unterstützt Streaming
    help: Aktivieren falls das Fahrzeug Streaming Updates während des Ladevorgangs schickt.
    advanced: true
    optional: true
  - name: welcomecharge
    example:
    default:
    choice: []
    unit:
    description: Laden bei Verbindung
    help: Wallbox gibt kurzzeitige Ladefreigabe bei Fahrzeugverbindung. Das ermöglicht es Fahrzeugen, die eine Stromversorgung beim Anschließen benötigen, einen Fehlerzustand zu vermeiden.
    advanced: true
    optional: true