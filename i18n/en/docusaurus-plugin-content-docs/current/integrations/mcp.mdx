---
sidebar_position: 4
hide_table_of_contents: true
---

import Video from "@site/src/components/Video";
import mcpVideo from "./screenshots/mcp-integration.mp4";
import mcpPoster from "./screenshots/mcp-integration.webp";

# MCP-Server

:::warning Experimental
The MCP server is experimental and may change at any time.
:::

With the [Model Context Protocol](https://en.wikipedia.org/wiki/Model_Context_Protocol) (MCP for short), it is possible to give LLMs like Claude, Gemini, and ChatGPT structured access to external systems, such as evcc.

Start evcc with the MCP server enabled:

```bash
evcc --mcp
```

## Usage with Claude Code

This example shows how you can use evcc with Claude Code via CLI.
MCPs via HTTP are currently only available with the [paid version](https://www.anthropic.com/pricing).
Of course, you can also use other LLMs like Gemini or ChatGPT.

1. Install Claude Code according to the [official guide](https://docs.anthropic.com/en/docs/claude-code/overview).

2. Create an empty folder for your test and navigate to this folder:

    ```bash
    mkdir evcc-mcp-test
    cd evcc-mcp-test
    ```

3. Add evcc as an MCP server to your workspace:

    ```bash
    claude mcp add --transport http evcc http://localhost:7070/mcp
    ```

4. Make sure your evcc instance is running with the MCP server:

    ```bash
    evcc --mcp
    ```

5. Start Claude Code and enter a query.

    ```bash
    claude

    ╭──────────────────────────────────────────────────────────────────────────────────────────╮
    │ > Will I be able to fill my car with solar energy today?                                 │
    ╰──────────────────────────────────────────────────────────────────────────────────────────╯
    ```

6. By default, you will be asked before the system makes a request to evcc. You must confirm these requests.

Now you can watch Claude Code work and should ultimately receive a proper answer to your question.
However, the above query will only work if you have configured a [PV forecast](/docs/tariffs#pv-forecast).

## Example: Creating a Charging Plan

Here you can see an example query where Claude creates a charging plan for the white Model 3.
The Sonnet 4 model is used.

<Video src={mcpVideo} poster={mcpPoster} />

## Demo Server

MCP is enabled on the demo server at [demo.evcc.io](https://demo.evcc.io).
So you can also test directly with it:

```bash
claude mcp add --transport http evcc-demo https://demo.evcc.io/mcp
```

Since this instance is used by many people, the results may be unreliable.