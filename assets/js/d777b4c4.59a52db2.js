"use strict";(self.webpackChunkevcc_docs=self.webpackChunkevcc_docs||[]).push([[3609],{8998:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>a,frontMatter:()=>d,metadata:()=>t,toc:()=>h});var r=i(5893),s=i(1151);const d={sidebar_position:12},l="messaging",t={id:"reference/configuration/messaging",title:"messaging",description:"evcc unterst\xfctzt die \xdcbermittlung von Status-Informationen \xfcber Telegram, PushOver, ntfy und viele weitere Dienste \xfcber das System shoutrrr. Die Konfiguration erm\xf6glich es eigene Nachrichten f\xfcr bestimmte Ereignisse und Systeme zu definieren.",source:"@site/docs/reference/configuration/messaging.md",sourceDirName:"reference/configuration",slug:"/reference/configuration/messaging",permalink:"/docs/reference/configuration/messaging",draft:!1,unlisted:!1,editUrl:"https://github.com/evcc-io/docs/tree/main/docs/reference/configuration/messaging.md",tags:[],version:"current",sidebarPosition:12,frontMatter:{sidebar_position:12},sidebar:"tutorialSidebar",previous:{title:"tariffs",permalink:"/docs/reference/configuration/tariffs"},next:{title:"eebus",permalink:"/docs/reference/configuration/eebus"}},c={},h=[{value:"<code>events</code>",id:"events",level:2},{value:"<code>title</code>",id:"title",level:3},{value:"<code>msg</code>",id:"msg",level:3},{value:"<code>services</code>",id:"services",level:2},{value:"<code>type</code>",id:"type",level:3},{value:"Unterst\xfctzte Dienste",id:"unterst\xfctzte-dienste",level:2},{value:"<code>pushover</code>",id:"pushover",level:3},{value:"<code>telegram</code>",id:"telegram",level:3},{value:"<code>email</code>",id:"email",level:3},{value:"<code>shout</code>",id:"shout",level:3},{value:"<code>ntfy</code>",id:"ntfy",level:3},{value:"<code>script</code>",id:"script",level:3}];function o(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"messaging",children:(0,r.jsx)(n.code,{children:"messaging"})}),"\n",(0,r.jsxs)(n.p,{children:["evcc unterst\xfctzt die \xdcbermittlung von Status-Informationen \xfcber ",(0,r.jsx)(n.a,{href:"https://telegram.org",children:"Telegram"}),", ",(0,r.jsx)(n.a,{href:"https://pushover.net",children:"PushOver"}),", ",(0,r.jsx)(n.a,{href:"https://ntfy.sh",children:"ntfy"})," und viele weitere Dienste \xfcber das System ",(0,r.jsx)(n.a,{href:"https://containrrr.dev/shoutrrr/",children:"shoutrrr"}),". Die Konfiguration erm\xf6glich es eigene Nachrichten f\xfcr bestimmte Ereignisse und Systeme zu definieren."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"messaging"})," definiert in Subelementen was und wie es verschickt wird. Unter ",(0,r.jsx)(n.code,{children:"events"})," m\xfcssen die Ereignisse definiert werden, f\xfcr welche Nachrichten verschickt werden sollen. Und unter ",(0,r.jsx)(n.code,{children:"services"})," die Dienste \xfcber welche die Nachrichten verschickt werden sollen."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Beispiel"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"messaging:\n  events: ...\n  services: ...\n"})}),"\n",(0,r.jsx)(n.h2,{id:"events",children:(0,r.jsx)(n.code,{children:"events"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"events"})," definiert den Nachrichteninhalt f\xfcr verschiedene vordefinierte Ereignisse."]}),"\n",(0,r.jsx)(n.p,{children:"Die verf\xfcgbaren Ereignisse sind:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"start"}),": Laden hat begonnen"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"stop"}),": Laden wurde beendet"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"connect"}),": Fahrzeug angeschlossen"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"disconnect"}),": Fahrzeug entfernt"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"soc"}),": Fahrzeug Akku-Ladestands\xe4nderung"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"guest"}),": Unbekanntes Fahrzeug erkannt"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Beispiel"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'start: # charge start event\n  title: Charge started\n  msg: Started charging in "${mode}" mode\n'})}),"\n",(0,r.jsx)(n.h3,{id:"title",children:(0,r.jsx)(n.code,{children:"title"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"title"})," definiert den Text f\xfcr den Nachrichtentitel."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Beispiel"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"title: Charge started\n"})}),"\n",(0,r.jsx)(n.h3,{id:"msg",children:(0,r.jsx)(n.code,{children:"msg"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"msg"})," definiert den Text f\xfcr den Nachrichteninhalt.",(0,r.jsx)(n.br,{}),"\n","Im Text k\xf6nnen verschiedene Variablen im Format ",(0,r.jsx)(n.code,{children:"${<Variablenname>}"})," zur Anzeige von evcc Informationen verwendet werden."]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"Bei Nutzung der Variablen ist auf die korrekte Schreibweise (gro\xdf/klein) zu achten!"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"N\xfctzliche Auswahl zur Nutzung in evcc Benachrichtungen"}),":"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"msg Variable"}),(0,r.jsx)(n.th,{children:"Beschreibung"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"${chargedEnergy:%.1fk}"})}),(0,r.jsx)(n.td,{children:"Geladene Energiemenge in kWh"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"${chargeDuration}"})}),(0,r.jsx)(n.td,{children:"Dauer der Ladezeit"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"${connectedDuration}"})}),(0,r.jsx)(n.td,{children:"Dauer der Wallbox Verbindung"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"${loadpoint}"})}),(0,r.jsxs)(n.td,{children:["Nummer des ",(0,r.jsx)(n.a,{href:"loadpoints",children:(0,r.jsx)(n.code,{children:"loadpoints"})})," (Ladepunkt) 1,2..."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"${mode}"})}),(0,r.jsxs)(n.td,{children:["Aktiver Lademodus (vgl. ",(0,r.jsx)(n.a,{href:"loadpoints/#mode",children:(0,r.jsx)(n.code,{children:"mode"})})," des ",(0,r.jsx)(n.a,{href:"loadpoints",children:(0,r.jsx)(n.code,{children:"loadpoints"})}),")"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"${pvPower:%.1fk}"})}),(0,r.jsx)(n.td,{children:"Aktuell gemessene PV Leistung in kW"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"${title}"})}),(0,r.jsxs)(n.td,{children:["Ladepunkt: Text des ",(0,r.jsx)(n.a,{href:"loadpoints",children:(0,r.jsx)(n.code,{children:"loadpoints"})})," ",(0,r.jsx)(n.a,{href:"loadpoints/#title",children:(0,r.jsx)(n.code,{children:"title"})})," Parameters"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"${vehicleTitle}"})}),(0,r.jsxs)(n.td,{children:["Fahrzeug: Text des ",(0,r.jsx)(n.a,{href:"vehicles",children:(0,r.jsx)(n.code,{children:"vehicles"})})," ",(0,r.jsx)(n.a,{href:"vehicles/#title",children:(0,r.jsx)(n.code,{children:"title"})})," Parameters"]})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Beispiel"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"  # Message examples using evcc variables\n  # start\n  msg: Wallbox ${title} started charging ${vehicleTitle} in ${mode} mode\n  # stop\n  msg: Wallbox ${title} finished charging ${vehicleTitle} with ${chargedEnergy:%.1fk}kWh in ${chargeDuration}\n  # connect\n  msg: ${vehicleTitle} connected on wallbox ${title} at ${pvPower:%.1fk}kW PV\n  # disconnect\n  msg: ${vehicleTitle} disconnected of wallbox ${title} after ${connectedDuration}\n"})}),"\n",(0,r.jsxs)(n.admonition,{type:"note",children:[(0,r.jsxs)(n.p,{children:["Zum Rendern der ",(0,r.jsx)(n.code,{children:"msg"}),"-Texte kann auch die ",(0,r.jsx)(n.a,{href:"https://pkg.go.dev/text/template",children:"go-Text-Template"}),"-Syntax in Kombination mit ",(0,r.jsx)(n.a,{href:"http://masterminds.github.io/sprig/",children:"sprig-Funktionen"})," genutzt werden."]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'# Message config using evcc go-text-template rendering, evcc variables and sprig-functions\nmessaging:\n  events:\n    start: # charge start event\n      title: Charge of {{.vehicleTitle}} started\n      msg: |\n        Wallbox {{.title}} started charging {{.vehicleTitle}} in {{ toString .mode | upper }} mode.\n        --------------------------\n        evcc Status {{printf `(%d-%02d-%02d %02d:%02d:%02d)` now.Year now.Month now.Day now.Hour now.Minute now.Second}}\n        Netz-Leistung: {{round (divf .gridPower 1000) 3 }} kW\n        Solar-Leistung: {{round (divf .pvPower 1000) 3 }} kW\n        Eigenverbrauch: {{round (divf .homePower 1000) 3 }} kW\n        {{if .batteryConfigured}}Batteriespeicher-Status: {{round (divf .batteryPower 1000) 3 }} kW ({{.batterySoc }} %){{end}}\n    stop: # charge stop event\n      title: Charge of {{.vehicleTitle}} finished\n      msg: |\n        Wallbox {{.title}} finished charging {{.vehicleTitle}} \n        with {{round (divf .chargedEnergy 1000) 2 }} kWh in {{.chargeDuration}}.\n        --------------------------\n        evcc Status {{printf `(%d-%02d-%02d %02d:%02d:%02d)` now.Year now.Month now.Day now.Hour now.Minute now.Second}}\n        Netz-Leistung: {{round (divf .gridPower 1000) 3 }} kW\n        Solar-Leistung: {{round (divf .pvPower 1000) 3 }} kW\n        Eigenverbrauch: {{round (divf .homePower 1000) 3 }} kW\n        {{if .batteryConfigured}}Batteriespeicher-Status: {{round (divf .batteryPower 1000) 3 }} kW ({{.batterySoc }} %){{end}}\n    connect: # vehicle connect event\n      title: "{{.vehicleTitle}} connected on wallbox {{.title}}"\n      msg: |\n        {{.vehicleTitle}} connected on wallbox {{.title}} at {{round (divf .pvPower 1000) 2 }} kW PV.\n        --------------------------\n        evcc Status {{printf `(%d-%02d-%02d %02d:%02d:%02d)` now.Year now.Month now.Day now.Hour now.Minute now.Second}}\n        Netz-Leistung: {{round (divf .gridPower 1000) 3 }} kW\n        Solar-Leistung: {{round (divf .pvPower 1000) 3 }} kW\n        Eigenverbrauch: {{round (divf .homePower 1000) 3 }} kW\n        {{if .batteryConfigured}}Batteriespeicher-Status: {{round (divf .batteryPower 1000) 3 }} kW ({{.batterySoc }} %){{end}}\n    disconnect: # vehicle connected event\n      title: "{{.vehicleTitle}} disconnected of wallbox {{.title}}"\n      msg: |\n        {{.vehicleTitle}} disconnected of wallbox {{.title}} after {{.connectedDuration}}.\n        --------------------------\n        evcc Status {{printf `(%d-%02d-%02d %02d:%02d:%02d)` now.Year now.Month now.Day now.Hour now.Minute now.Second}}\n        Netz-Leistung: {{round (divf .gridPower 1000) 3 }} kW\n        Solar-Leistung: {{round (divf .pvPower 1000) 3 }} kW\n        Eigenverbrauch: {{round (divf .homePower 1000) 3 }} kW\n        {{if .batteryConfigured}}Batteriespeicher-Status: {{round (divf .batteryPower 1000) 3 }} kW ({{.batterySoc }} %){{end}}\n'})})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Liste aller von evcc bereitgestellten Variablen"}),":"]}),"\n",(0,r.jsxs)(n.p,{children:["Die von evcc bereitgestellten Variablen (siehe auch /api/state) m\xfcssen als regex-Funktion ",(0,r.jsx)(n.code,{children:"${<Variablenname>}"})," oder im go-Template-Format ",(0,r.jsx)(n.code,{children:"{{<Variablenname>}}"})," im Text der Meldung definiert werden. Mehrere Variablen im Meldungstext sind m\xf6glich."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Site","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Konfiguration","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"site",children:(0,r.jsx)(n.code,{children:"siteTitle"})})," - Haupt\xfcberschrift der evcc App (",(0,r.jsx)(n.em,{children:"string"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"site/#prioritysoc",children:(0,r.jsx)(n.code,{children:"prioritySoc"})})," - Mindest-F\xfcllstand der Powerwall in Prozent, vor ",(0,r.jsx)(n.a,{href:"loadpoints/#mode",children:"PV mode"})," Freigabe (",(0,r.jsx)(n.em,{children:"integer"}),")"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Information","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"batteryConfigured"})," - Indikator, Hausbatterie/Powerwall-Meter konfiguriert (",(0,r.jsx)(n.em,{children:"bool"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"gridConfigured"})," - Indikator, Smart/Grid-Meter konfiguriert (",(0,r.jsx)(n.em,{children:"bool"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"pvConfigured"})," - Indikator, Solaranlagen/Photovoltaik-Meter konfiguriert (",(0,r.jsx)(n.em,{children:"bool"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Infos zum Stromtarif","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"tariffs",children:(0,r.jsx)(n.code,{children:"currency"})})," - Tarif-W\xe4hrung (",(0,r.jsx)(n.em,{children:"string"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"tariffs/#feedin",children:(0,r.jsx)(n.code,{children:"tariffFeedIn"})})," - PV-Einspeiseverg\xfctung pro kWh in der Tarif-W\xe4hrung (float)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"tariffs/#grid",children:(0,r.jsx)(n.code,{children:"tariffGrid"})})," - Netz-Abnahmepreis pro kWh in der Tarif-W\xe4hrung (float)"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Meter Infos","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"batteryPower"})," - Aktuelle Hausbatterie/Powerwall-Leistung in Watt (",(0,r.jsx)(n.em,{children:"float"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"batterySoc"})," - Aktueller F\xfcllstand der Hausbatterie/Powerwall in Prozent (",(0,r.jsx)(n.em,{children:"integer"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"gridPower"})," - Aktuelle Netz-Einspeisung(-) oder -Abnahme(+) in Watt (",(0,r.jsx)(n.em,{children:"float"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"homePower"})," - Aktuelle Haus-Abnahmeleistung (ohne Wallboxverbrauch) in Watt (",(0,r.jsx)(n.em,{children:"float"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"pvPower"})," - Aktuelle Solaranlagen-Leistung in Watt (",(0,r.jsx)(n.em,{children:"float"}),")"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Ladepunkte (loadpoint)","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Konfiguration","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"loadpoints",children:(0,r.jsx)(n.code,{children:"loadpoint"})})," - Laufende Nummer des Ladepunktes (",(0,r.jsx)(n.em,{children:"integer"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"loadpoints#maxcurrent",children:(0,r.jsx)(n.code,{children:"maxCurrent"})})," - Maximale Lade-Stromst\xe4rke in Ampere (",(0,r.jsx)(n.em,{children:"float"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"loadpoints#mincurrent",children:(0,r.jsx)(n.code,{children:"minCurrent"})})," - Minimale Lade-Stromst\xe4rke in Ampere (",(0,r.jsx)(n.em,{children:"float"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"loadpoints#mode",children:(0,r.jsx)(n.code,{children:"mode"})})," - Initialer Modus des Ladepunktes nach evcc-Start ",(0,r.jsx)(n.code,{children:"off"}),"/",(0,r.jsx)(n.code,{children:"now"}),"/",(0,r.jsx)(n.code,{children:"min"}),"/",(0,r.jsx)(n.code,{children:"pv"})," (",(0,r.jsx)(n.em,{children:"string"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"loadpoints/#phases",children:(0,r.jsx)(n.code,{children:"phases"})})," - Initial aktive Anzahl Stromphasen des Ladepunktes nach evcc-Start (",(0,r.jsx)(n.em,{children:"integer"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"loadpoints#title",children:(0,r.jsx)(n.code,{children:"title"})})," - Bezeichnung des Ladepunktes in der evcc App (",(0,r.jsx)(n.em,{children:"string"}),")"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Information","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"activePhases"}),"- Aktuell aktive Anzahl Stromphasen des Ladepunktes (",(0,r.jsx)(n.em,{children:"integer"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"chargeCurrent"})," - Aktuelle Gesamt-Lade-Stromst\xe4rke in Ampere (",(0,r.jsx)(n.em,{children:"float"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"chargeCurrents"})," - Aktuelle Lade-Stromst\xe4rke pro aktiver Stromphase in Ampere (",(0,r.jsx)(n.em,{children:"float"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"chargeDuration"})," - Ladedauer in Nanosekunden (",(0,r.jsx)(n.em,{children:"integer"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"chargePower"})," - Aktuelle Lade-Leistung in Watt (",(0,r.jsx)(n.em,{children:"float"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"chargeRemainingDuration"})," - Ladezeit in Nanosekunden bis zum Ziel-F\xfcllstand (",(0,r.jsx)(n.em,{children:"integer"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"chargeRemainingEnergy"})," - Notwendige Energie bis zum Ziel-F\xfcllstand in Wh (",(0,r.jsx)(n.em,{children:"float"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"chargedEnergy"})," - Bisher geladene Energie in Wh (",(0,r.jsx)(n.em,{children:"float"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"charging"})," - Indikator, Ladevorgang aktiv (",(0,r.jsx)(n.em,{children:"bool"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"enabled"})," - Indikator, Beladung freigegeben (",(0,r.jsx)(n.em,{children:"bool"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"hasVehicle"})," - Indikator, Fahrzeug-Definitionen sind dem Ladepunkt zugewiesen (",(0,r.jsx)(n.em,{children:"bool"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"targetTime"})," - Zielladezeit in Nanosekunden seit 1970 UTC (",(0,r.jsx)(n.em,{children:"integer"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"pvAction"})," - Kontrollvariable zur PV-Timer Steuerung ",(0,r.jsx)(n.code,{children:"enable"}),"/",(0,r.jsx)(n.code,{children:"disable"})," (",(0,r.jsx)(n.em,{children:"string"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"pvRemaining"})," - Notwendige PV-Restladezeit bei aktivierter Timer Steuerung in Nanosekunden (",(0,r.jsx)(n.em,{children:"integer"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Fahrzeuge (vehicles)","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Konfiguration","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"vehicles/#capacity",children:(0,r.jsx)(n.code,{children:"vehicleCapacity"})}),"- Kapazit\xe4t der Fahrzeugbatterie in Wh (",(0,r.jsx)(n.em,{children:"float"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"vehicles/#title",children:(0,r.jsx)(n.code,{children:"vehicleTitle"})})," - Bezeichnung des Fahrzeugs in der evcc App (",(0,r.jsx)(n.em,{children:"string"}),")"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Information","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"climater"})," - Status der Fahrzeug-Klimatisierung ",(0,r.jsx)(n.code,{children:"on"}),"/",(0,r.jsx)(n.code,{children:"off"}),"/",(0,r.jsx)(n.code,{children:"heating"}),"/",(0,r.jsx)(n.code,{children:"cooling"})," (",(0,r.jsx)(n.em,{children:"string"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"connected"})," - Indikator, Fahrzeug am Ladepunkt angeschlossen (",(0,r.jsx)(n.em,{children:"bool"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"connectedDuration"})," - Anschlu\xdfdauer des Fahrzeugs in Nanosekunden (",(0,r.jsx)(n.em,{children:"integer"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"vehicleOdometer"})," - Aktueller Kilometerstand des Fahrzeugs in km (",(0,r.jsx)(n.em,{children:"float"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"vehiclePresent"})," - Indikator, evcc kann auf die Fahrzeugdaten zugreifen (",(0,r.jsx)(n.em,{children:"bool"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"vehicleRange"})," - Aktuelle Reichweite des Fahrzeugs in km (",(0,r.jsx)(n.em,{children:"float"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"vehicleSoc"})," - Aktueller F\xfcllstand der Fahrzeugbatterie in Prozent (",(0,r.jsx)(n.em,{children:"integer"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Infos zur Einsparungseffizienz","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"savingsAmount"})," - Summe der evcc-Einsparung (",(0,r.jsx)(n.em,{children:"float"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"savingsEffectivePrice"})," - Kalkulierter Einsparungs-Preis (",(0,r.jsx)(n.em,{children:"float"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"savingsGridCharged"})," - Geladene Netzenergie in Wh (",(0,r.jsx)(n.em,{children:"float"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"savingsSelfConsumptionCharged"})," - Geladene Sonnenenergie in Wh (",(0,r.jsx)(n.em,{children:"float"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"savingsSelfConsumptionPercent"})," - Anteil der geladenen Sonnenenergie in Wh (",(0,r.jsx)(n.em,{children:"float"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"savingsSince"})," - Zeitperiode der Ersparnisberechnung in Nanosekunden (",(0,r.jsx)(n.em,{children:"integer"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"savingsTotalCharged"})," - Geladene Gesamtenergie in Wh (",(0,r.jsx)(n.em,{children:"float"}),")"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Infos zur Ladesitzung","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sessionSolarPercentage"})," - Sonnenanteil der Sitzung"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sessionPrice"})," - Preis des geladenen Stroms der Sitzung"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sessionPricePerKWh"})," - Durchschnittlicher Preis des Stroms pro kWh der Sitzung"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sessionCo2PerKWh"})," - Durchschnittliche CO2 pro kWh"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Sponsor","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Konfiguration","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"sponsortoken",children:(0,r.jsx)(n.code,{children:"auth"})})," - Authentication Token des evcc-Sponsors (",(0,r.jsx)(n.em,{children:"string"}),")"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Information","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sponsor"})," - Name des evcc-Sponsors (",(0,r.jsx)(n.em,{children:"string"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"services",children:(0,r.jsx)(n.code,{children:"services"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"services"})," definiert eine Liste von zu verwendeten Nachrichtendiensten."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Beispiel"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"services:\n  - type: pushover\n    app: 12345\n    recipients:\n      - 234567\n"})}),"\n",(0,r.jsx)(n.p,{children:"Im folgenden werden nun alle erforderlichen Parameter erkl\xe4rt."}),"\n",(0,r.jsx)(n.h3,{id:"type",children:(0,r.jsx)(n.code,{children:"type"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"type"})," definiert den Nachrichtendienst der verwendet werden soll."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"M\xf6gliche Werte"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"pushover"}),": ",(0,r.jsx)(n.a,{href:"https://pushover.net/",children:"Pushover"}),". Siehe ",(0,r.jsx)(n.a,{href:"#pushover",children:(0,r.jsx)(n.code,{children:"pushover"})})," Definition"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"telegram"}),": ",(0,r.jsx)(n.a,{href:"https://telegram.org/",children:"Telegram Messenger"}),". Siehe ",(0,r.jsx)(n.a,{href:"#telegram",children:(0,r.jsx)(n.code,{children:"telegram"})})," Definition"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"email"}),": Email. Siehe ",(0,r.jsx)(n.a,{href:"#email",children:(0,r.jsx)(n.code,{children:"email"})})," Definition"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"shout"}),": ",(0,r.jsx)(n.a,{href:"https://containrrr.dev/shoutrrr",children:"shoutrrr"}),". Siehe ",(0,r.jsx)(n.a,{href:"#shout",children:(0,r.jsx)(n.code,{children:"shout"})})," Definition"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"script"}),": Kann externe Skripte zum Versenden von Nachrichten starten. Es ist auch hilfreich, um jede Art von externer Funktionalit\xe4t einzubinden. Siehe ",(0,r.jsx)(n.a,{href:"#script",children:(0,r.jsx)(n.code,{children:"script"})})," Definition"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Beispiel"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"services:\n  - type: pushover\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"unterst\xfctzte-dienste",children:"Unterst\xfctzte Dienste"}),"\n",(0,r.jsx)(n.h3,{id:"pushover",children:(0,r.jsx)(n.code,{children:"pushover"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"pushover"})," verwendet den Dienst ",(0,r.jsx)(n.a,{href:"https://pushover.net/",children:"Pushover"}),". Details siehe ",(0,r.jsx)(n.a,{href:"https://https://pushover.net/api",children:"Pushover API"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Beispiel"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"- type: pushover\n  app: # API Token/Key der in Pushover angelegten Aplication\n  recipients:\n    -  # Liste der Empf\xe4nger: entweder User Key or Delivery Group. In Pushover angelegte Gruppen k\xf6nnen auf bestimmte Ger\xe4te eingeschr\xe4nkt werden.\n  devices:\n    - Johns phone\n    - Mias ticker\n"})}),"\n",(0,r.jsx)(n.h3,{id:"telegram",children:(0,r.jsx)(n.code,{children:"telegram"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"telegram"})," verwendet den Dienst ",(0,r.jsx)(n.a,{href:"https://telegram.org/",children:"Telegram Messenger"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Beispiel"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"- type: telegram\n  token: # bot id : jede laufende Instanz von evcc ben\xf6tigt eine eigene bot id\n  chats:\n    -  # Liste von Chat oder Group IDs. Jeder Eintrag ben\xf6tigt ein - Zeichen am Anfang und muss in einer eigenen Zeile sein.\n    - -GroupID #Achtung Group IDs in Telegram haben ein -Zeichen\n    - ChatID\n"})}),"\n",(0,r.jsx)(n.h3,{id:"email",children:(0,r.jsx)(n.code,{children:"email"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"email"})," verwendet den Dienst ",(0,r.jsx)(n.a,{href:"https://containrrr.dev/shoutrrr",children:"shoutrrr"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Hier wird der Parameter ",(0,r.jsx)(n.code,{children:"uri"})," mit dem Wert ",(0,r.jsx)(n.code,{children:"smtp://<user>:<password>@<host>:<port>/?fromAddress=<from>&toAddresses=<to>"})," erwartet. Die Platzhalter sind wie folgt zu ersetzen:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<host>"}),": Adresse (hostname oder IP Adresse) des Email Servers"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<port>"}),": Port Adresse des Email Servers"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<user>"}),": Benutzername f\xfcr den Email Server"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<password>"}),": Passwort des Benutzers"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<from>"}),": Email Adresse des Absenders"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<to>"}),": Email Adresse des Empf\xe4ngers"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Beispiel"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"- type: email\n  uri: smtp://benutzername:passwort@emailserver.dom\xe4ne:1234/?fromAddress=absender@mail.com&toAddresses=empf\xe4nger@mail.com\n"})}),"\n",(0,r.jsx)(n.h3,{id:"shout",children:(0,r.jsx)(n.code,{children:"shout"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"shout"})," verwendet den Dienst ",(0,r.jsx)(n.a,{href:"https://containrrr.dev/shoutrrr",children:"shoutrrr"})," und unterst\xfctzt alle seine Dienste."]}),"\n",(0,r.jsxs)(n.p,{children:["Die Konfiguration wird im folgenden Beispiel anhand von ",(0,r.jsx)(n.a,{href:"https://gotify.net/",children:"Gotify"})," gezeigt und funktioniert bei den anderen M\xf6glichkeiten \xfcber den gleichen Weg."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Beispiel"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"- type: shout\n  uri: gotify://gotify.example.com:443/AzyoeNS.D4iJLVa/?priority=1\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Weitere Informationen sind in der ",(0,r.jsx)(n.a,{href:"https://containrrr.dev/shoutrrr",children:"shoutrrr"})," Dokumentation zu den ",(0,r.jsx)(n.a,{href:"https://containrrr.dev/shoutrrr/v0.5/services/overview/",children:"unterst\xfctzten Diensten"})," zu finden."]}),"\n",(0,r.jsx)(n.h3,{id:"ntfy",children:(0,r.jsx)(n.code,{children:"ntfy"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"ntfy"})," verwendet den Dienst ",(0,r.jsx)(n.a,{href:"https://ntfy.sh",children:"ntfy"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Hier wird der Parameter ",(0,r.jsx)(n.code,{children:"uri"})," mit dem Wert ",(0,r.jsx)(n.code,{children:"https://<host>/<topics>"})," erwartet. Die Platzhalter sind wie folgt zu ersetzen:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<host>"}),": Adresse (hostname oder IP Adresse) des ntfy Servers"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<topics>"}),": Abonniertes Thema oder abonnierte Themen"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Optionale Parameter sind ",(0,r.jsx)(n.code,{children:"priority"})," und ",(0,r.jsx)(n.code,{children:"tags"}),". Alle Parameter werden als Strings \xfcbergeben."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Beispiel"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"- type: ntfy\n  uri: https://ntfy.sh/evcctestalerts\n  priority: default\n  tags: electric_plug,blue_car\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Weitere Informationen sind in der ",(0,r.jsx)(n.a,{href:"https://docs.ntfy.sh",children:"ntfy Dokumentation"})," zu finden."]}),"\n",(0,r.jsx)(n.h3,{id:"script",children:(0,r.jsx)(n.code,{children:"script"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"script"})," startet Shellscripte oder andere Kommandos um Nachrichten zu versenden oder beliebige Aktionen anhand der ",(0,r.jsx)(n.a,{href:"#events",children:"Ereignisse"})," zu starten."]}),"\n",(0,r.jsxs)(n.p,{children:["Der Pfad zum Script mu\xdf in ",(0,r.jsx)(n.code,{children:"cmdline"})," angegeben werden. Ebenso sollte ein ",(0,r.jsx)(n.code,{children:"timeout"})," gesetzt werden. Der ",(0,r.jsx)(n.code,{children:"timeout"})," gibt an, nach welcher Zeit das Script abgebrochen wird."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Beispiel"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"- type: script\n  cmdline: /home/pi/sendSignalMessage.sh\n  timeout: 50s\n"})})]})}function a(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},1151:(e,n,i)=>{i.d(n,{Z:()=>t,a:()=>l});var r=i(7294);const s={},d=r.createContext(s);function l(e){const n=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(d.Provider,{value:n},e.children)}}}]);